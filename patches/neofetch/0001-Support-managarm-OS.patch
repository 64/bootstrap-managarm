From 7cfc8ca6244d785d38e8f52dee1f751dc9ad16eb Mon Sep 17 00:00:00 2001
From: Matt Taylor <mstaveleytaylor@gmail.com>
Date: Thu, 27 May 2021 20:10:44 +0100
Subject: [PATCH] Support managarm OS

---
 neofetch | 31 ++++++++++++++++++++++++++++++-
 1 file changed, 30 insertions(+), 1 deletion(-)

diff --git a/neofetch b/neofetch
index 1e4b564..78d0a15 100755
--- a/neofetch
+++ b/neofetch
@@ -929,6 +929,7 @@ get_os() {
         AIX)      os=AIX ;;
         IRIX*)    os=IRIX ;;
         FreeMiNT) os=FreeMiNT ;;
+        managarm) os=Managarm ;;
 
         Linux|GNU*)
             os=Linux
@@ -1185,6 +1186,10 @@ get_distro() {
         FreeMiNT)
             distro=FreeMiNT
         ;;
+
+        Managarm)
+            distro=Managarm
+        ;;
     esac
 
     distro=${distro//Enterprise Server}
@@ -1319,6 +1324,10 @@ get_model() {
             model=$(sysctl -n hw.model)
             model=${model/ (_MCH *)}
         ;;
+
+        Managarm)
+            model="Unknown model"
+        ;;
     esac
 
     # Remove dummy OEM info.
@@ -7890,6 +7899,26 @@ o00.              k0O${c2}dddddd${c1}occ
 EOF
         ;;
 
+        "Managarm"*)
+            # TODO: Add proper art
+            set_colors 2 1 3 5
+            read -rd '' ascii_data <<'EOF'
+                   @@. @@                         
+                   %%%@@%@                        
+                 &%%@%&%%%.                       
+                @%%@@%%%%%@%@@@@/                 
+               %%%@@@%%%%%%%%%%%%%%@              
+          #@%%%%%%%%%%%%%%@@@@@@@@%%%@            
+      @%%%%%%%%%%%%%%%%%@@@@@@@@&%%%@@@%%%&@@     
+    @@%@@%%%%%%%%%%%%%%@@@@@@@@@@@@@@@@@@@@@@@%%%@
+   @%%%%%%%%%%%%%%%%%%%@@@@@@@@@@@@@@@@@@@@@@@@%@ 
+  @  @%%%%%%%%%%%%%%%%%%@@@@@@@@@@@@@@@@@@@@@%%@  
+  @%%%%%%%%%%%%%%%%%%%%%@@@@@@@@@@@%%%%%%%%%@%    
+ @. @%%%%%%%%%%%%%%%%%%%%%%%%%%%%%@@@.            
+    @%%%%%%&@@@@(///#@@@%,
+EOF
+        ;;
+
         "Mandriva"*)
             set_colors 4 3
             read -rd '' ascii_data <<'EOF'
@@ -10528,7 +10557,7 @@ main() {
     eval "$config"
 
     get_args "$@"
-    [[ $verbose != on ]] && exec 2>/dev/null
+    # [[ $verbose != on ]] && exec 2>/dev/null
     get_simple "$@"
     get_distro
     get_bold
-- 
2.31.1

